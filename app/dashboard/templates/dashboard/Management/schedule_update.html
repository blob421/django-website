 {% include 'dashboard/base.html' %}
{% block content %}


    <div class="schedule_update_outer_div">
<div class="update_form"> 
    <form method="POST">
      {% csrf_token %}
      <div class="monday">  
    {{form.monday.label_tag}}
      {{form.monday}}
    </div>
    <div class="tuesday">  
        {{form.tuesday.label_tag}}
      {{form.tuesday}}
    </div>
    <div class="wednesday">  
      {{form.wednesday.label_tag}}
      {{form.wednesday}}
    </div>
    <div class="thursday">  
      {{form.thursday.label_tag}}
      {{form.thursday}}
    </div>
    <div class="friday">  
      {{form.friday.label_tag}}
      {{form.friday}}
    </div>
    <div class="saturday">  
        {{form.saturday.label_tag}}
      {{form.saturday}}
    </div>
    <div class="sunday">  
        {{form.sunday.label_tag}}
      {{form.sunday}}
      </div>
      <div class="unscheduled">
        {{form.unscheduled.label_tag}}
        {{form.unscheduled}}
        {{form.vacation.label_tag}}
        {{form.vacation}}
      </div>

    
      <input type="submit" class="schedule_update_button" value="Confirm">

<div class="texareas_div">
    <div class="schedule_update_message_message">
       Message
       <textarea class="schedule_update_message_text" placeholder="{{message}}" name="message"></textarea>
       
    </div>

    <div id="textareaMonday" class="schedule_update_message" style="display:none">
            Monday
          <textarea class="schedule_update_message_text" name="text_monday">{{schedule.textmonday}}
           
          </textarea>
    </div>
        <div id="textareaTuesday" class="schedule_update_message" style="display:none">
            Tuesday
          <textarea class="schedule_update_message_text" name="text_tuesday">{{schedule.texttuesday}}
           
          </textarea>
    </div>
        <div id="textareaWednesday" class="schedule_update_message" style="display:none">
            Wednesday
          <textarea class="schedule_update_message_text" name="text_wednesday">{{schedule.textwednesday}}
            
          </textarea>
    </div>
        <div id="textareaThursday" class="schedule_update_message" style="display:none">
            Thursday
          <textarea class="schedule_update_message_text" name="text_thursday">{{schedule.textthursday}}
            
          </textarea>
    </div>
        <div id="textareaFriday" class="schedule_update_message" style="display:none">
            Friday
          <textarea class="schedule_update_message_text" name="text_friday">{{schedule.textfriday}}

          </textarea>
    </div>
        <div id="textareaSaturday" class="schedule_update_message" style="display:none">
            Saturday
          <textarea class="schedule_update_message_text" name="text_saturday">{{schedule.textsaturday}}
            
          </textarea>
    </div>
        <div id="textareaSunday" class="schedule_update_message" style="display:none">
            Sunday
          <textarea class="schedule_update_message_text" name="text_sunday">{{schedule.textsunday}}
           
          </textarea>
    </div>
 </div>














    </form>
</div>
<div class="sched_update_error">
             {% if form.errors %}
            {{form.errors}}
            {% endif %}
    </div>

    </div>
    
  
  
    



 <div class="send_msg_back">
   <a href="{% url 'dashboard:schedule_manage' %}"><button class="del_btn2" type="button">Back</button></a>

 </div>
{% endblock %}

<script>
  const days = ['monday', 'tuesday', 'wednesday', 'thursday', 'friday', 'saturday', 'sunday'];
  const textareas = document.querySelectorAll('[id^="textarea"]');
  const messageArea = document.getElementById('textarea_message');

 days.forEach(day => {
  const input = document.getElementById(`id_${day}`);
  const textarea = document.getElementById(`textarea${capitalize(day)}`);

  input.addEventListener('focus', ()=>{
    textareas.forEach(t => t.style.display = 'none');
    textarea.style.display = 'block';

  })
input.addEventListener('blur', (e) => {
  setTimeout(() => {
    const active = document.activeElement;
    if (!textarea.contains(active)) {
      textarea.style.display = 'none';
    
    }
  }, 100); // slight delay to allow focus shift
});
});
function capitalize(str) {
  return str.charAt(0).toUpperCase() + str.slice(1);
}

  const inputs = document.querySelectorAll('.dayfield')
  inputs.forEach(input=>{
      Inputmask("99:99-99:99").mask(input);
  })
  

</script>