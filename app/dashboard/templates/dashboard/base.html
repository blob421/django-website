<!DOCTYPE html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard</title>
     {% load static %}
       <link rel="stylesheet" href="{% static 'dashboard/team_vs.css' %}">
     <link rel="stylesheet" href="{% static 'dashboard/home.css' %}">
     <link rel="stylesheet" href="{% static 'dashboard/messages.css' %}">
     <link rel="stylesheet" href="{% static 'dashboard/msg_main.css' %}">
     <link rel="stylesheet" href="{% static 'dashboard/tasks.css' %}">
     <link rel="stylesheet" href="{% static 'dashboard/team.css' %}">

     <link rel="stylesheet" href="{% static 'dashboard/management/management.css' %}">
     <link rel="stylesheet" href="{% static 'dashboard/management/tasks.css' %}">
     <link rel="stylesheet" href="{% static 'dashboard/management/schedules.css' %}">
     <link rel="stylesheet" href="{% static 'dashboard/chat.css' %}">
     <link rel="stylesheet" href="{% static 'dashboard/inbox.css' %}">
     <link rel="stylesheet" href="{% static 'dashboard/charts.css' %}">
     <link rel="stylesheet" href="{% static 'dashboard/schedules.css' %}">
     <link rel="stylesheet" href="{% static 'dashboard/account.css' %}">
     <link rel="stylesheet" href="{% static 'dashboard/history.css' %}">
     <link rel="stylesheet" href="{% static 'dashboard/resources.css' %}">
     <link rel="stylesheet" href="{% static 'dashboard/reports.css' %}">

     <script src="https://cdn.jsdelivr.net/npm/htmx.org@2.0.6/dist/htmx.min.js"></script>
     <script src="{% static 'js/getSubtask.js' %}"></script>
     
     {% block extra_css %}
     {% endblock %}

     <!-- Bootstrap 5 CSS -->
          <!-- <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="..." crossorigin="anonymous">
-->
    <!-- Bootstrap 5 JS Bundle -->
      <!--  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="..." crossorigin="anonymous"></script>
-->

<style>
  .go_to_active{
    position: fixed;
    right: 1%;
    top: 2%;
    background-color: #cce6be;
    border: 1px solid black;
    z-index: 1000;
    padding: 0.5%;
    display: flex;
    align-items: center;
    font-size: small;
    border-radius: 6px;
    
  }
  #question_mark{
    
 position: fixed; 
 right: 0.5%; 
 width: 2%;
 bottom: 0.5%;
 z-index: 10000;
  }
  .logout_btn{
    cursor: pointer;
  
    
  }
  nav{
    display: flex;
    align-items: center;
  }
  .userprofile_nav{
    background-color: #525252 !important;
    color: white !important;
    border-radius: 4px;
    width: 7vw;
    display: flex;
    justify-content: center;
    margin-left: 1%;
    border: 2px solid grey;
    
   
    font-size: 12px;
}
html , body{
    background-color: rgb(237, 228, 208);
    overflow-y: hidden;
    max-height: 100%;
   

}
#shade_logout{
  width: 100vw;
  height: 100vh;
  background-color: #181818b2;
  position: absolute;
  transform: translate(-50%,-50%);
  left: 50%;
  display: none;
  top: 50%;
  z-index: 100;
}
#report_modal{
  width: 28vw;
  height: 28vh;
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -55%);
  z-index: 1000;
  background-color: #7a7979;
  border: 3px solid rgb(61, 61, 61);
  border-radius: 8px;

}
.logout_modal_btn_cont{
  width: 85%;
  display: flex;
  left: 50%;
  transform: translateX(-50%);
  height: 50%;
  justify-content: center;
  gap: 7%;
  align-items: center;
  position: absolute;
  bottom: 10%;
}
.logout_title{
  height: 90%;
  width: 30%;
  left: 50%;
  transform: translateX(-50%);
  position: relative;
  justify-content: center;
  font-size: larger;
  background-color: #797979;
  display: flex;
  color: white;
  padding-bottom: 2%;
  padding-top: 4%;
}
.logout_modal_btn{
  width: 40%;
  background-color: #8d8d8d;
  height: 80%;
  cursor: pointer;
  border: 1.5px solid rgb(212, 205, 193);
}
.report_btn{
  width: 40%;
  background-color: #8d8d8d;
  height: 78%;
 
  cursor: pointer;
  border: 1.5px solid rgb(212, 205, 193);
  border-radius: 4px;
}
.logout_x_btn{
  position: absolute;
  right: 2%;
  top: 5%;
  background-color: rgb(243, 240, 238) ;
  width: 6%;
  border-radius: 5px;
  display: flex;
  font-size: smaller;
  height: 12.5%;
  justify-content: center;
  align-items: center;
  border: 1px solid black;
  cursor: pointer;
}
 @media (max-width:700px){
    nav{
    
    display: flex;
    position: absolute;
    left:50%;
    width: 97vw;
    top:0%;
    transform: translateX(-50%);
    background-color: rgb(211, 211, 211);
    z-index: 1000;
  
    
}
 #question_mark{
    
position: fixed; 
 left: 0.5%; 
 width: 4%;
 bottom: 1.5%;
 z-index: 10000
  }
.logout_btn{
    padding: 5%;
    height: 4vh;
    border-radius: 1px;
    background-color: #e4e1d8;
    color: black;
    
}

.user_account_div{
    width: 13%;
    height: 6%;
    background-color: #696969;
    position: fixed;
    top: 5%;
   
    right: 18%;
    display: flex;
    justify-content: center;
    align-items: center;
    color: white;
    border-radius: 4px;
}
.userprofile_nav{
    background-color: #343333 !important;
    color: white !important;
    border-radius: 4px;
    width: 15vw;
    top: 5vh;
    margin-left: -1.5%;
    right: 0%;
    border: 2px solid grey;
   position: fixed;
    font-size: small;
    z-index: 100;
}
html{
    background-color: rgb(237, 228, 208);
    overflow-y: hidden;
    max-height: 100%;
    max-width: 200%;
   

}
}

</style>
</head>

<body>
<div class="nav_container"> 
<nav class="nav_top">
  
  <a href="{% url 'dashboard:home' %}">Home</a>
  <a href="{% url 'dashboard:messages' %}">Messages</a>
  {% if new > 0 %}<div class="new_msg_count_div">{{new}}</div>{% endif %}
  <a href="{% url 'dashboard:tasks_list' %}">Tasks</a>
  <a href="{% url 'dashboard:projects' %}">Projects</a>
   
  <a href="{% url 'dashboard:team' %}">Team</a>

  <a href="{% url 'dashboard:chat_view' %}">Chat</a>
  <button onclick="setVisible(this,'shade_logout')">Logout</button> 
  {% if is_home %}
  <a href="{% url 'dashboard:user_account' user.id %}" class="userprofile_nav">User profile</a>
  {% endif %}


</nav>
</div>
{% load static %}

<a href="{% url 'dashboard:ressources' %}">
 <img src= "{% static 'question_mark.png' %}" id="question_mark">
 </a>

<div id="shade_logout">
  
<div id="report_modal">

    <div class="logout_x_btn" 
    onclick="document.getElementById('shade_logout').style.display='none'">
    X
    </div>

    <form method="post" action='{% url "dashboard:logout" %}'>
      {% csrf_token %}
       <div class="logout_title">
        Logout ?

       </div> 
        <div class="logout_modal_btn_cont">
          <a href="{% url 'dashboard:report' %}" class="report_btn">
          <button type="button">Do your report</button>
          </a>

          <button type="submit" class="logout_modal_btn"> Logout </button>
       </div>

    </form>
</div>

</div>


{% if user.userprofile.active_task %}
<a href="{% url 'dashboard:task_detail' user.userprofile.active_task.id %}" class="go_to_active">
  Active task
</a>

{% endif %}
 {% block content %}{% endblock %}

</body> 